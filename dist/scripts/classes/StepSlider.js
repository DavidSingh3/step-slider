function _classCallCheck(a,b){if(!(a instanceof b)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||false;d.configurable=true;if("value"in d)d.writable=true;Object.defineProperty(a,d.key,d)}}function _createClass(a,b,c){if(b)_defineProperties(a.prototype,b);if(c)_defineProperties(a,c);return a}function _defineProperty(a,b,c){if(b in a){Object.defineProperty(a,b,{value:c,enumerable:true,configurable:true,writable:true})}else{a[b]=c}return a}import{defaultStepSliderOptions}from"../interfaces/stepSliderOptions.js";import Logger from"./Logger.js";var StepSlider=function(){function a(b){var c=arguments.length>1&&arguments[1]!==undefined?arguments[1]:defaultStepSliderOptions;_classCallCheck(this,a);_defineProperty(this,"logger",void 0);_defineProperty(this,"inputRangeElement",void 0);_defineProperty(this,"options",void 0);_defineProperty(this,"containerElement",void 0);_defineProperty(this,"labelsContainer",void 0);this.logger=new Logger("StepSlider class");this.inputRangeElement=b;this.options=Object.assign({},defaultStepSliderOptions,c);this.inputRangeElement.min=this.options.min.toString();this.inputRangeElement.max=this.options.max.toString();this.inputRangeElement.value=this.options.value.toString();this.inputRangeElement.step=this.options.step.toString()}_createClass(a,[{key:"setSelectedIndex",value:function setSelectedIndex(){var a=parseInt(this.inputRangeElement.value);var b=this.valueToIndex(a);this.containerElement.style.setProperty("--selected-index",b.toString());this.labelsContainer.querySelectorAll(".step-slider-label").forEach(function(a){a.classList.remove("selected")});var c=this.labelsContainer.querySelector(".step-slider-label:nth-child(".concat(b+1,")"));c.classList.add("selected")}},{key:"valueToIndex",value:function valueToIndex(a){return(a-this.options.min)/this.options.step}},{key:"init",value:function init(){var a=this;this.containerElement=document.createElement("div");this.containerElement.classList.add("step-slider-container","labels-position-".concat(this.options.labelPosition));this.containerElement.style.setProperty("--steps",((this.options.max-this.options.min)/this.options.step+1).toString());this.containerElement.style.setProperty("--selected-index","0");this.containerElement.style.setProperty("--cursor",this.options.cursor);this.containerElement.style.setProperty("--thumb-size","".concat(this.options.thumbSize,"px"));this.containerElement.style.setProperty("--track-size","".concat(this.options.trackSize,"px"));this.containerElement.style.setProperty("--label-offset","".concat(this.options.labelOffset,"px"));this.containerElement.style.setProperty("--selected-thumb-border-size","".concat(this.options.selectedThumbBorderSize,"px"));this.containerElement.style.setProperty("--selected-thumb-border-color",this.options.selectedThumbBordercolor);this.containerElement.style.setProperty("--active-track-color",this.options.activeTrackColor);this.containerElement.style.setProperty("--active-label-color",this.options.activeLabelColor);this.containerElement.style.setProperty("--active-thumb-color",this.options.activeThumbColor);this.containerElement.style.setProperty("--inactive-track-color",this.options.inactiveTrackColor);this.containerElement.style.setProperty("--inactive-label-color",this.options.inactiveLabelColor);this.containerElement.style.setProperty("--inactive-thumb-color",this.options.inactiveThumbColor);this.labelsContainer=document.createElement("div");this.containerElement.appendChild(this.labelsContainer);this.labelsContainer.classList.add("step-slider-labels-container");for(var b=this.options.min;b<=this.options.max;b+=this.options.step){var c=document.createElement("div");c.classList.add("step-slider-label");c.innerText=b.toString();c.style.setProperty("--index",this.valueToIndex(b).toString());this.labelsContainer.appendChild(c)}this.inputRangeElement.parentNode.replaceChild(this.containerElement,this.inputRangeElement);this.containerElement.appendChild(this.inputRangeElement);this.containerElement.style.setProperty("--labels-container-height","".concat(this.labelsContainer.offsetHeight,"px"));if(this.options.dispatchOnInput){this.inputRangeElement.addEventListener("input",function(){a.dispatchStepSliderEvent("change")})}this.inputRangeElement.addEventListener("input",this.setSelectedIndex.bind(this));this.containerElement.style.setProperty("--width","".concat(this.containerElement.getBoundingClientRect().width,"px"));this.setSelectedIndex();this.logger.log(this.containerElement,this.options);return this}},{key:"dispatchStepSliderEvent",value:function dispatchStepSliderEvent(a){var b=new Event(a,{bubbles:true,cancelable:true});this.inputRangeElement.dispatchEvent(b)}}]);return a}();export{StepSlider as default};